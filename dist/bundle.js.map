{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/control-extensions.tsx","webpack:///./src/factory.ts","webpack:///./src/forTyping.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/forTyping.ts\");\n","import { React } from \"./factory\";\r\nimport { A1, BaseElement, NativeAttribute, OnHandlerA } from \"./index\";\r\nimport * as R from \"./jsx\";\r\n\r\n// add custom parameters checkChanged etc.\r\nexport const CheckBox = (props: { onCheckChanged?: A1<boolean> } & R.InputHTMLAttributes<HTMLInputElement>) => {\r\n    const { onCheckChanged, ...rest } = props;\r\n    const attributes = React.getAttributes(rest as any);\r\n    if (onCheckChanged) {\r\n        attributes.push(\r\n            new OnHandlerA(\"click\",\r\n                (e) => onCheckChanged((e.currentTarget as HTMLInputElement).checked)));\r\n    }\r\n    attributes.push(new NativeAttribute(\"type\", \"checkbox\"));\r\n    return new BaseElement(\"input\", attributes) as any;\r\n};\r\n\r\nexport const TextBox = (props: R.InputHTMLAttributes<HTMLInputElement>) =>\r\n    <input {...props} type=\"text\"/>;\r\n\r\nexport const textVal = (e: R.KeyboardEvent<HTMLInputElement>) => e.currentTarget.value;\r\n\r\nexport const doScroll = (o: HTMLElement, element: HTMLElement, to?: number, duration?: number) => {\r\n\r\n    const start = element.scrollTop;\r\n    const change = (to || o.offsetTop - 10) - start;\r\n    const increment = 20;\r\n    let currentTime = 0;\r\n\r\n    const easeInOutQuad = (t: number, b: number, c: number, d: number) => {\r\n\r\n        t /= d / 2;\r\n\r\n        if (t < 1) {\r\n\r\n            return c / 2 * t * t + b;\r\n\r\n        }\r\n\r\n        t--;\r\n\r\n        return -c / 2 * (t * (t - 2) - 1) + b;\r\n    };\r\n\r\n    const animateScroll = () => {\r\n\r\n        currentTime += increment;\r\n\r\n        const d = duration || 300;\r\n\r\n        const val = easeInOutQuad(currentTime, start, change, d);\r\n\r\n        element.scrollTop = val;\r\n\r\n        if (currentTime < d) {\r\n            setTimeout(animateScroll, increment);\r\n        }\r\n    };\r\n\r\n    animateScroll();\r\n};\r\n","import {\r\n    Attribute,\r\n    BaseElement,\r\n    ConditionalRenderElement,\r\n    Either,\r\n    F1,\r\n    F2,\r\n    FocusA,\r\n    NativeAttribute,\r\n    OnHandlerA,\r\n    Renderable,\r\n    TemplateElement,\r\n    TextElement,\r\n} from \"./index\";\r\n\r\ntype K = keyof HTMLElementEventMap;\r\n\r\ninterface AttributeValue {\r\n    [name: string]: Either<string> | Either<boolean> | F1<HTMLElementEventMap[K], any>;\r\n}\r\n\r\nexport class React {\r\n\r\n    public static createElement = (\r\n        tagName: string | F2<Attribute[], Renderable[], Renderable>,\r\n        attributes: AttributeValue | null, ...children: any[]): Renderable => {\r\n\r\n        if (typeof tagName === \"function\") {\r\n            return tagName(attributes as any, children);\r\n        }\r\n\r\n        const attribs = React.getAttributes(attributes);\r\n\r\n        const kids = React.getChildren(children);\r\n\r\n        return new BaseElement(tagName, attribs, kids);\r\n    }\r\n\r\n    public static getAttributes = (attributes: AttributeValue | null) => {\r\n\r\n        const attribs = new Array<Attribute>();\r\n\r\n        if (attributes) {\r\n            for (const k of Object.keys(attributes)) {\r\n\r\n                const key = k.toLowerCase().replace(\"doubleclick\", \"dblclick\");\r\n\r\n                const attributeValue = attributes[k];\r\n\r\n                if (key.startsWith(\"on\")) {\r\n                    const event = key.substring(2) as K;\r\n                    attribs.push(new OnHandlerA(event, attributeValue as F1<HTMLElementEventMap[K], any>));\r\n                    continue;\r\n                }\r\n\r\n                switch (key) {\r\n                    case \"classname\":\r\n                        attribs.push(new NativeAttribute(\"class\", attributeValue as Either<string>));\r\n                        break;\r\n                    case \"htmlfor\":\r\n                        attribs.push(new NativeAttribute(\"for\", attributeValue as Either<string>));\r\n                        break;\r\n                    case \"focus\":\r\n                        attribs.push(new FocusA(attributeValue as Either<boolean>));\r\n                        break;\r\n                    default:\r\n                        attribs.push(new NativeAttribute(key, attributeValue as Either<string>));\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return attribs;\r\n    }\r\n\r\n    public static getChildren = (children: any[]) => {\r\n\r\n        const kids = new Array<Renderable>();\r\n\r\n        for (const child of children) {\r\n            React.appendChild(kids, child);\r\n        }\r\n\r\n        return kids;\r\n    }\r\n\r\n    private static appendChild = (kids: Renderable[], child: any) => {\r\n\r\n        // <>{condition && <a>Display when condition is true</a>}</>\r\n        // if condition is false, the child is a boolean, but we don't want to display anything\r\n        if (typeof child === \"undefined\" || typeof child === \"boolean\" || child === null) {\r\n            return;\r\n        }\r\n\r\n        if (Array.isArray(child)) {\r\n            for (const value of child) {\r\n                React.appendChild(kids, value);\r\n            }\r\n        } else if (typeof child === \"string\" || typeof child === \"number\") {\r\n            kids.push(new TextElement(child.toString()));\r\n        } else if (child instanceof BaseElement\r\n            || child instanceof TextElement\r\n            || child instanceof ConditionalRenderElement\r\n            || child instanceof TemplateElement) {\r\n            kids.push(child);\r\n        } else if (typeof child === \"function\") {\r\n\r\n            const test = child();\r\n\r\n            if (typeof test === \"function\") {\r\n                kids.push(new ConditionalRenderElement(child));\r\n            } else {\r\n                kids.push(new TextElement(child));\r\n            }\r\n\r\n        } else {\r\n            kids.push(new TextElement(String(child)));\r\n        }\r\n    }\r\n}\r\n","export * from \"./control-extensions\";\r\nexport * from \"./index\";\r\nexport * from \"./factory\";\r\nimport R = require(\"./jsx\");\r\nexport {R};\r\n","export type A0 = () => void;\r\n\r\nexport type A1<T> = (b: T) => void;\r\n\r\nexport type A2<T, U> = (b: T, c: U) => void;\r\n\r\nexport type F0<T> = () => T;\r\n\r\nexport type F1<T, U> = (b: T) => U;\r\n\r\nexport type F2<T, U, V> = (b: T, c: U) => V;\r\n\r\nexport type View = HTMLElement;\r\n\r\nexport type Either<T> = T | F0<T>;\r\n\r\nexport const ENTER_KEY = 13;\r\n\r\nexport const ESCAPE_KEY = 27;\r\n\r\nexport const notNullOrWhiteSpace = (s: string | null): s is string => !!s && s.trim().length > 0;\r\n\r\nexport const createRef = (\r\n    () => {\r\n        let id = 0; // possible collision\r\n        return () => `id_${id++}`;\r\n    }\r\n)();\r\n\r\nexport const mounted = \"mounted\";\r\n\r\nexport const unmounted = \"unmounted\";\r\n\r\nconst observer = new MutationObserver((mutations) => {\r\n    mutations.forEach((mutation) => {\r\n        if (mutation.type === \"childList\") {\r\n\r\n            mutation.addedNodes.forEach((n) => n.dispatchEvent(new Event(mounted)));\r\n\r\n            mutation.removedNodes.forEach((n) => n.dispatchEvent(new Event(unmounted)));\r\n        }\r\n    });\r\n});\r\n\r\ndocument.addEventListener(\r\n    \"DOMContentLoaded\",\r\n    () => observer.observe(document.body,\r\n        {\r\n            attributes: false,\r\n            characterData: false,\r\n            childList: true,\r\n            subtree: true,\r\n        }),\r\n    false);\r\n\r\nclass Notifier {\r\n\r\n    private nextId = 0;\r\n\r\n    private readonly subscribers = new Map<number, A0>();\r\n\r\n    public start() {\r\n\r\n        const notify = () => {\r\n            this.subscribers.forEach((v) => v());\r\n            window.requestAnimationFrame(notify);\r\n        };\r\n\r\n        window.requestAnimationFrame(notify);\r\n    }\r\n\r\n    public subscribe(onNext: A0, dependency: Node) {\r\n\r\n        const currentId = this.nextId;\r\n\r\n        this.nextId++;\r\n\r\n        this.subscribers.set(currentId, onNext);\r\n\r\n        dependency.addEventListener(unmounted, () => this.subscribers.delete(currentId));\r\n    }\r\n}\r\n\r\nexport interface Attribute {\r\n    set(o: View | SVGElement, watch: Notifier, isSvg: boolean): void;\r\n}\r\n\r\nexport interface Renderable {\r\n\r\n    mount(parent: View | SVGElement | DocumentFragment): View | SVGElement | Text;\r\n\r\n    render(parent: View | SVGElement | DocumentFragment, watch: Notifier, isSvg: boolean): View | SVGElement | Text;\r\n}\r\n\r\ninterface KeyValuePair<K, V> {\r\n    key: K;\r\n    value: V;\r\n}\r\n\r\nexport class VersionedList<T> {\r\n\r\n    private nextKey = 0;\r\n\r\n    constructor(private items: Array<KeyValuePair<number, T>> = new Array<KeyValuePair<number, T>>()) { }\r\n\r\n    public getItems(): ReadonlyArray<T> {\r\n        return this.items.map((a) => a.value);\r\n    }\r\n\r\n    public getItem(index: number): T {\r\n        return this.items[index].value;\r\n    }\r\n\r\n    public count() { return this.items.length; }\r\n\r\n    public add(item: T) {\r\n\r\n        const val = { key: this.nextKey, value: item };\r\n\r\n        this.items.push(val);\r\n\r\n        this.nextKey++;\r\n\r\n        this.addListener([val]);\r\n    }\r\n\r\n    public delete(itemIndex: number) {\r\n\r\n        const val = this.items[itemIndex];\r\n\r\n        this.items.splice(itemIndex, 1);\r\n\r\n        this.nextKey++;\r\n\r\n        this.removeListener([val]);\r\n    }\r\n\r\n    public remove(item: T) {\r\n        this.delete(this.indexOf(item));\r\n    }\r\n\r\n    public clear() {\r\n\r\n        const cleared = this.items.splice(0);\r\n\r\n        this.items.length = 0;\r\n\r\n        this.nextKey++;\r\n\r\n        this.removeListener(cleared);\r\n    }\r\n\r\n    public indexOf(obj: T, fromIndex = 0): number {\r\n\r\n        if (fromIndex < 0) {\r\n            fromIndex = Math.max(0, this.items.length + fromIndex);\r\n        }\r\n        for (let i = fromIndex, j = this.items.length; i < j; i++) {\r\n            if (this.items[i].value === obj) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public forEach(action: A1<T>) {\r\n        this.getItems().forEach(action);\r\n    }\r\n\r\n    public filter(filter: F1<T, boolean>) {\r\n        return this.getItems().filter(filter);\r\n    }\r\n\r\n    public setListeners(\r\n        addListener: A1<Array<KeyValuePair<number, T>>>,\r\n        removeListener: A1<Array<KeyValuePair<number, T>>>) {\r\n\r\n        this.addListener = addListener;\r\n\r\n        this.removeListener = removeListener;\r\n\r\n        this.addListener(this.items);\r\n    }\r\n\r\n    // tslint:disable-next-line:no-empty\r\n    private addListener: A1<Array<KeyValuePair<number, T>>> = () => { };\r\n\r\n    // tslint:disable-next-line:no-empty\r\n    private removeListener: A1<Array<KeyValuePair<number, T>>> = () => { };\r\n}\r\n\r\nexport class BaseElement implements Renderable {\r\n\r\n    constructor(\r\n        private readonly elementName: string | undefined,\r\n        private readonly attributes: Attribute[] = new Array<Attribute>(),\r\n        private readonly children: Renderable[] = new Array<Renderable>()) { }\r\n\r\n    // factor out\r\n    public mount(parent: View) {\r\n\r\n        const notifier = new Notifier();\r\n\r\n        const v = this.render(parent, notifier, false);\r\n\r\n        notifier.start();\r\n\r\n        return v;\r\n    }\r\n\r\n    public render(parent: View, watch: Notifier, isSvg: boolean) {\r\n\r\n        const useSvg = isSvg || this.elementName === \"svg\";\r\n\r\n        if (this.elementName == null) { // it's a fragment\r\n\r\n            const view = document.createDocumentFragment();\r\n\r\n            this.children.forEach((a) => a.render(view, watch, useSvg));\r\n\r\n            parent.appendChild(view);\r\n\r\n            return parent;\r\n        }\r\n\r\n        const view =\r\n            useSvg ? document.createElementNS(\"http://www.w3.org/2000/svg\", this.elementName) :\r\n                document.createElement(this.elementName);\r\n\r\n        this.attributes.forEach((a) => a.set(view, watch, useSvg));\r\n\r\n        this.children.forEach((a) => a.render(view, watch, useSvg));\r\n\r\n        parent.appendChild(view);\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\nexport class ConditionalRenderElement implements Renderable {\r\n\r\n    private currentNode: HTMLElement | SVGElement | Text = document.createTextNode(\"\");\r\n\r\n    constructor(private readonly source: F0<F0<Renderable>>) { }\r\n\r\n    public mount(parent: View) {\r\n\r\n        const notifier = new Notifier();\r\n\r\n        const v = this.render(parent, notifier, false);\r\n\r\n        notifier.start();\r\n\r\n        return v;\r\n    }\r\n\r\n    public render(parent: View, watch: Notifier, isSvg: boolean) {\r\n\r\n        this.currentSource = this.source();\r\n\r\n        this.currentNode = this.currentSource().render(parent, watch, isSvg);\r\n\r\n        const gen = this.source;\r\n\r\n        watch.subscribe(\r\n            () => {\r\n\r\n                const s = gen();\r\n\r\n                if (this.currentSource !== s) {\r\n\r\n                    this.currentSource = s;\r\n\r\n                    const replacement =\r\n                        this.currentSource().render(document.createDocumentFragment(), watch, isSvg);\r\n\r\n                    parent.replaceChild(replacement, this.currentNode); // node\r\n                }\r\n            },\r\n            parent,\r\n        );\r\n\r\n        parent.appendChild(this.currentNode);\r\n\r\n        return this.currentNode;\r\n    }\r\n\r\n    private currentSource: F0<Renderable> = () => { throw new Error(\"undefined\"); };\r\n}\r\n\r\nexport class TemplateElement<T> implements Renderable {\r\n\r\n    private nodes = new Map<number, Node>();\r\n\r\n    private currentValue = new VersionedList<T>();\r\n\r\n    public constructor(\r\n        private readonly source: Either<VersionedList<T>>,\r\n        private readonly template: F1<T, Renderable>,\r\n        private readonly placeholder: Renderable | null) { }\r\n\r\n    public mount(parent: View) {\r\n\r\n        const notifier = new Notifier();\r\n\r\n        const v = this.render(parent, notifier, false);\r\n\r\n        notifier.start();\r\n\r\n        return v;\r\n    }\r\n\r\n    public render(o: View, watch: Notifier, isSvg: boolean) {\r\n\r\n        const placeholderNode =\r\n            this.placeholder ? this.placeholder.render(document.createDocumentFragment(), watch, isSvg) : null;\r\n\r\n        const showPlaceHolder =\r\n            () => {\r\n                if (!placeholderNode) {\r\n                    return;\r\n                }\r\n                if (this.nodes.size === 0) {\r\n                    const _ = placeholderNode.parentElement === o || o.appendChild(placeholderNode);\r\n                } else {\r\n                    const _ = placeholderNode.parentElement === o && o.removeChild(placeholderNode);\r\n                }\r\n            };\r\n\r\n        const subscribe =\r\n            () => {\r\n\r\n                this.nodes.forEach((child, _) => o.removeChild(child));\r\n\r\n                this.nodes.clear();\r\n\r\n                this.currentValue.setListeners(\r\n                    (items) => {\r\n\r\n                        const fragment = document.createDocumentFragment();\r\n\r\n                        items.forEach((i) => {\r\n\r\n                            const child = this.template(i.value).render(fragment, watch, isSvg);\r\n\r\n                            this.nodes.set(i.key, child);\r\n                        });\r\n\r\n                        o.appendChild(fragment);\r\n\r\n                        showPlaceHolder();\r\n                    },\r\n                    (items) => {\r\n\r\n                        items.forEach((i) => {\r\n\r\n                            o.removeChild(this.nodes.get(i.key)!);\r\n\r\n                            this.nodes.delete(i.key);\r\n                        });\r\n\r\n                        showPlaceHolder();\r\n                    },\r\n                );\r\n\r\n                showPlaceHolder();\r\n            };\r\n\r\n        if (this.source instanceof VersionedList) {\r\n\r\n            this.currentValue = this.source;\r\n\r\n            subscribe();\r\n        } else {\r\n\r\n            this.currentValue = this.source();\r\n\r\n            subscribe();\r\n\r\n            const gen = this.source;\r\n\r\n            watch.subscribe(\r\n                () => {\r\n                    const s = gen();\r\n\r\n                    if (this.currentValue !== s) {\r\n\r\n                        this.currentValue = s;\r\n\r\n                        subscribe();\r\n                    }\r\n                },\r\n                o,\r\n            );\r\n        }\r\n\r\n        return o;\r\n    }\r\n}\r\n\r\nexport class TextElement implements Renderable {\r\n\r\n    private currentValue = \"\";\r\n\r\n    constructor(private readonly textContent: Either<string>) { }\r\n\r\n    public mount(parent: View) {\r\n\r\n        const notifier = new Notifier();\r\n\r\n        const v = this.render(parent, notifier, false);\r\n\r\n        notifier.start();\r\n\r\n        return v;\r\n    }\r\n\r\n    public render(parent: View, watch: Notifier, _: boolean) {\r\n\r\n        const o = document.createTextNode(\"\");\r\n\r\n        if (typeof this.textContent !== \"function\") {\r\n\r\n            this.currentValue = this.textContent;\r\n\r\n            o.textContent = this.currentValue;\r\n        } else {\r\n\r\n            this.currentValue = this.textContent();\r\n\r\n            o.textContent = this.currentValue;\r\n\r\n            const gen = this.textContent;\r\n\r\n            watch.subscribe(\r\n                () => {\r\n\r\n                    const s = gen();\r\n\r\n                    if (this.currentValue !== s) {\r\n\r\n                        this.currentValue = s;\r\n\r\n                        o.textContent = this.currentValue;\r\n                    }\r\n                },\r\n                o,\r\n            );\r\n        }\r\n\r\n        parent.appendChild(o);\r\n\r\n        return o;\r\n    }\r\n}\r\n\r\n// xss via href\r\nexport class NativeAttribute implements Attribute {\r\n\r\n    private static setAttribute =\r\n        (attribute: string, element: any, value: any, isSvg: boolean) => {\r\n\r\n            if (attribute === \"style\") {\r\n                for (const key of Object.keys(value)) {\r\n                    const style = value == null || value[key] == null ? \"\" : value[key];\r\n                    if (key[0] === \"-\") {\r\n                        element[attribute].setProperty(key, style);\r\n                    } else {\r\n                        element[attribute][key] = style;\r\n                    }\r\n                }\r\n            } else if (\r\n\r\n                attribute in element &&\r\n\r\n                attribute !== \"list\" &&\r\n\r\n                attribute !== \"type\" &&\r\n\r\n                attribute !== \"draggable\" &&\r\n\r\n                attribute !== \"spellcheck\" &&\r\n\r\n                attribute !== \"translate\" &&\r\n\r\n                !isSvg\r\n\r\n            ) {\r\n\r\n                element[attribute] = value == null ? \"\" : value;\r\n\r\n            } else if (value != null && value !== false) {\r\n\r\n                element.setAttribute(attribute, value);\r\n\r\n            }\r\n\r\n            if (value == null || value === false) {\r\n\r\n                element.removeAttribute(attribute);\r\n\r\n            }\r\n        }\r\n\r\n    private currentValue = \"\";\r\n\r\n    public constructor(private readonly attribute: string, private readonly value: Either<string>) { }\r\n\r\n    public set(o: View, watch: Notifier, isSvg: boolean) {\r\n\r\n        if (typeof this.value !== \"function\") {\r\n\r\n            this.currentValue = this.value;\r\n\r\n            NativeAttribute.setAttribute(this.attribute, o, this.currentValue, isSvg);\r\n\r\n        } else {\r\n\r\n            this.currentValue = this.value();\r\n\r\n            NativeAttribute.setAttribute(this.attribute, o, this.currentValue, isSvg);\r\n\r\n            const gen = this.value;\r\n\r\n            watch.subscribe(\r\n                () => {\r\n\r\n                    const s = gen();\r\n\r\n                    if (this.currentValue !== s) {\r\n\r\n                        this.currentValue = s;\r\n\r\n                        NativeAttribute.setAttribute(this.attribute, o, this.currentValue, isSvg);\r\n                    }\r\n                },\r\n                o,\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n// lose focus when body is clicked\r\nexport class FocusA implements Attribute {\r\n\r\n    private currentValue = false;\r\n\r\n    public constructor(private readonly focus: Either<boolean>) { }\r\n\r\n    public set(o: View, watch: Notifier) {\r\n\r\n        if (typeof this.focus !== \"function\") {\r\n            this.currentValue = this.focus;\r\n\r\n            if (this.currentValue) {\r\n                o.focus();\r\n            }\r\n        } else {\r\n            this.currentValue = this.focus();\r\n\r\n            if (this.currentValue) {\r\n                o.focus();\r\n            }\r\n\r\n            const gen = this.focus;\r\n\r\n            watch.subscribe(\r\n                () => {\r\n\r\n                    const s = gen();\r\n\r\n                    if (this.currentValue !== s) {\r\n\r\n                        this.currentValue = s;\r\n                    }\r\n\r\n                    if (this.currentValue && document.activeElement !== o) {\r\n                        o.focus();\r\n                    }\r\n                },\r\n                o,\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport class OnHandlerA<K extends keyof HTMLElementEventMap> implements Attribute {\r\n\r\n    public constructor(\r\n        private readonly eventName: K | \"mounted\" | \"unmounted\",\r\n        private readonly handler: F1<HTMLElementEventMap[K], any>) { }\r\n\r\n    public set(o: View, _: Notifier) {\r\n\r\n        o.addEventListener(this.eventName, this.handler);\r\n    }\r\n}\r\n\r\ninterface TemplateParams<T> {\r\n    source: VersionedList<T> | (() => VersionedList<T>);\r\n    template: ((t: T) => Renderable);\r\n    placeholder?: Renderable;\r\n}\r\n\r\nexport const Template =\r\n    <T>(props: TemplateParams<T>) => {\r\n\r\n        const { source, template, placeholder } = props;\r\n\r\n        return new TemplateElement(source, template, placeholder || null) as any; // no props\r\n    };\r\n"],"sourceRoot":""}